<! DOCTYPE html>  
<html lang="en">  
<head>  
<title> Nota Media Test </title>  
  <meta charset="utf-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1">  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"> </script>  
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"> </script>  
   <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">  
</head>  
<style>  
.card {  
  margin-top: 20px;  
}  

.buttons {
    display: flex;
    flex-direction: column;
  }
  
  .buttons button {
    margin-bottom: 10px;
  }
</style>  
<body>  
<div class="container">  
    <div class="row">  
        <div class="col-lg-12">  
            <div class="card">  
                <div class="card-body card-block">  
                    <div class="row">
                        <div class="col-6 col-md-6">  
                            <div class="controls">  
                                <div class="buttons" id="btnid">
                                    <button type="button" id="button-1">1</button>
                                    <button type="button" id="button-2">2</button>
                                    <button type="button" id="button-3">3</button>
                                </div> 
                            </div>  
                        </div> 
                        <div class="col-6 col-md-6">  
                            <div class="controls">  
                                <button type="button" id="addButton">Add Button</button>
                            </div>  
                        </div>  
                    </div>
                </div>  
            </div>  
        </div>  
    </div>  
</div>  

<script>


$.fn.swapButton = function(neighbor) {
    // Get the current position of the button
    const currentPosition = $(this).index();
  
    // Get the position of the neighbor button
    const neighborPosition = $(neighbor).index();
    // Swap the positions of the two buttons
    $(this).insertAfter($(neighbor));
    $(neighbor).insertAfter($(this));
  
    // Return the jQuery object for the swapped button
    return $(this);
  };
  
  // Add a click event listener to each button
  $('.buttons button').on('click', function() {
    // Get the clicked button
    const clickedButton = $(this);
  alert('sdsf');
    // Get the upper and lower neighbors of the clicked button
    const upperNeighborButton = clickedButton.prev();
    const lowerNeighborButton = clickedButton.next();
  
    // Swap the clicked button with its upper neighbor if it exists
    if (upperNeighborButton.length) {
      clickedButton.swapButton(upperNeighborButton);
    } else {
      // Swap the clicked button with its lower neighbor if it exists
      if (lowerNeighborButton.length) {
        clickedButton.swapButton(lowerNeighborButton);
      }
    }
  });


  var index=4;
  $('#addButton').on('click', function(){

    var div = document.getElementById('btnid');
    const btn = document.createElement("BUTTON");
        btn.innerHTML = index;
        div.appendChild(btn);
        btn.setAttribute('type','button');
        btn.setAttribute('id','button-'+index);

        index++;
    });
</script>  
</body>  
</html>  